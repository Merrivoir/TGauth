<!DOCTYPE html>
<html>
<head>
    <title>Авторизация</title>
    <script>
        const params = new URLSearchParams(window.location.search);
        const source = params.get('source') || 'https://richmom.vercel.app';
        console.log(`0.${source}`)
    </script>
</head>
<body>
    <h1>Вход через Telegram</h1>
    <div id="telegram-widget">
        <script async src="https://telegram.org/js/telegram-widget.js?22"
            data-telegram-login="richmom_auth_bot"
            data-size="large"
            data-radius="8"
            data-auth-url="http://richmom.vercel.app/auth?source=${encodeURIComponent(source)}"`
            data-request-access="write">
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const params = new URLSearchParams(window.location.search);
                const source = params.get('source') || 'https://richmom.vercel.app';
                console.log(`1.${source}`)
                const tgcont = document.getElementById('telegram-widget')
                tgcont.innerHTML = `<script async src="https://telegram.org/js/telegram-widget.js?22"
            data-telegram-login="richmom_auth_bot"
            data-size="large"
            data-radius="4"
            data-auth-url="http://richmom.vercel.app/auth?source=${encodeURIComponent(source)}"
            data-request-access="write">`
            });
        </script>
    </div>
</body>
</html>